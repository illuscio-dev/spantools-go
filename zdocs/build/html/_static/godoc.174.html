<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>mtest - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="style.css">

<script>window.initFuncs = [];</script>
<script src="jquery.js" defer></script>



<script>var goVersion = "go1.13.5";</script>
<script src="godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="godoc.590.html">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="godoc.590.html">GoDoc</a></div>
<a href="godoc.174.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6161/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package mtest
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "go.mongodb.org/mongo-driver/mongo/integration/mtest"</code></dd>
			</dl>
			<dl>
			<dd><a href="godoc.174.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="godoc.174.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="godoc.174.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="godoc.174.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="godoc.174.html#CreateCommandErrorResponse">func CreateCommandErrorResponse(ce CommandError) bson.D</a></dd>
			
				
				<dd><a href="godoc.174.html#CreateCursorResponse">func CreateCursorResponse(cursorID int64, ns string, identifier BatchIdentifier, batch ...bson.D) bson.D</a></dd>
			
				
				<dd><a href="godoc.174.html#CreateSuccessResponse">func CreateSuccessResponse(elems ...bson.E) bson.D</a></dd>
			
				
				<dd><a href="godoc.174.html#CreateWriteConcernErrorResponse">func CreateWriteConcernErrorResponse(wce WriteConcernError) bson.D</a></dd>
			
				
				<dd><a href="godoc.174.html#CreateWriteErrorsResponse">func CreateWriteErrorsResponse(writeErrorrs ...WriteError) bson.D</a></dd>
			
				
				<dd><a href="godoc.174.html#Setup">func Setup() error</a></dd>
			
				
				<dd><a href="godoc.174.html#Teardown">func Teardown() error</a></dd>
			
			
				
				<dd><a href="godoc.174.html#BatchIdentifier">type BatchIdentifier</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#ClientType">type ClientType</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#Collection">type Collection</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#CommandError">type CommandError</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#FailPoint">type FailPoint</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#FailPointData">type FailPointData</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#FailPointMode">type FailPointMode</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#Options">type Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#NewOptions">func NewOptions() *Options</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.Auth">func (op *Options) Auth(auth bool) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.ClientOptions">func (op *Options) ClientOptions(opts *options.ClientOptions) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.ClientType">func (op *Options) ClientType(ct ClientType) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.CollectionCreateOptions">func (op *Options) CollectionCreateOptions(opts bson.D) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.CollectionName">func (op *Options) CollectionName(collName string) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.CollectionOptions">func (op *Options) CollectionOptions(opts *options.CollectionOptions) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.CreateClient">func (op *Options) CreateClient(create bool) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.DatabaseName">func (op *Options) DatabaseName(dbName string) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.Enterprise">func (op *Options) Enterprise(ent bool) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.MaxServerVersion">func (op *Options) MaxServerVersion(version string) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.MinServerVersion">func (op *Options) MinServerVersion(version string) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.MockResponses">func (op *Options) MockResponses(responses ...bson.D) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.RunOn">func (op *Options) RunOn(blocks ...RunOnBlock) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.ShareClient">func (op *Options) ShareClient(share bool) *Options</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#Options.Topologies">func (op *Options) Topologies(topos ...TopologyKind) *Options</a></dd>
				
			
				
				<dd><a href="godoc.174.html#RunOnBlock">type RunOnBlock</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#T">type T</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#New">func New(wrapped *testing.T, opts ...*Options) *T</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.AddMockResponses">func (t *T) AddMockResponses(responses ...bson.D)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.AuthEnabled">func (t *T) AuthEnabled() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ClearCollections">func (t *T) ClearCollections()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ClearEvents">func (t *T) ClearEvents()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ClearFailPoints">func (t *T) ClearFailPoints()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ClearMockResponses">func (t *T) ClearMockResponses()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.CloneCollection">func (t *T) CloneCollection(opts *options.CollectionOptions)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.CloneDatabase">func (t *T) CloneDatabase(opts *options.DatabaseOptions)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.Close">func (t *T) Close()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ConnString">func (t *T) ConnString() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.CreateCollection">func (t *T) CreateCollection(coll Collection, createOnServer bool) *mongo.Collection</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetAllFailedEvents">func (t *T) GetAllFailedEvents() []*event.CommandFailedEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetAllStartedEvents">func (t *T) GetAllStartedEvents() []*event.CommandStartedEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetAllSucceededEvents">func (t *T) GetAllSucceededEvents() []*event.CommandSucceededEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetFailedEvent">func (t *T) GetFailedEvent() *event.CommandFailedEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetStartedEvent">func (t *T) GetStartedEvent() *event.CommandStartedEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GetSucceededEvent">func (t *T) GetSucceededEvent() *event.CommandSucceededEvent</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.GlobalClient">func (T) GlobalClient() *mongo.Client</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.ResetClient">func (t *T) ResetClient(opts *options.ClientOptions)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.Run">func (t *T) Run(name string, callback func(*T))</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.RunOpts">func (t *T) RunOpts(name string, opts *Options, callback func(*T))</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.SetFailPoint">func (t *T) SetFailPoint(fp FailPoint)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.TopologyKind">func (t *T) TopologyKind() TopologyKind</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="godoc.174.html#T.TrackFailPoint">func (t *T) TrackFailPoint(fpName string)</a></dd>
				
			
				
				<dd><a href="godoc.174.html#TopologyKind">type TopologyKind</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#WriteConcernError">type WriteConcernError</a></dd>
				
				
			
				
				<dd><a href="godoc.174.html#WriteError">type WriteError</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go">deployment_helpers.go</a>
			
				<a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go">mongotest.go</a>
			
				<a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/opmsg_deployment.go">opmsg_deployment.go</a>
			
				<a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go">options.go</a>
			
				<a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/setup.go">setup.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				<p>
These constants specify valid values for TopologyKind
</p>

				<pre>const (
    <span id="ReplicaSet">ReplicaSet</span> <a href="godoc.174.html#TopologyKind">TopologyKind</a> = &#34;replicaset&#34;
    <span id="Sharded">Sharded</span>                 = &#34;sharded&#34;
    <span id="Single">Single</span>                  = &#34;single&#34;
)</pre>
			
				
				<pre>const (
    <span class="comment">// TestDb specifies the name of default test database.</span>
    <span id="TestDb">TestDb</span> = &#34;test&#34;
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (
    <span class="comment">// Background is a no-op context.</span>
    <span id="Background">Background</span> = <a href="godoc.159.html">context</a>.<a href="godoc.159.html#Background">Background</a>()
    <span class="comment">// MajorityWc is the majority write concern.</span>
    <span id="MajorityWc">MajorityWc</span> = <a href="godoc.179.html">writeconcern</a>.<a href="godoc.179.html#New">New</a>(<a href="godoc.179.html">writeconcern</a>.<a href="godoc.179.html#WMajority">WMajority</a>())
    <span class="comment">// PrimaryRp is the primary read preference.</span>
    <span id="PrimaryRp">PrimaryRp</span> = <a href="godoc.177.html">readpref</a>.<a href="godoc.177.html#Primary">Primary</a>()
    <span class="comment">// LocalRc is the local read concern</span>
    <span id="LocalRc">LocalRc</span> = <a href="godoc.176.html">readconcern</a>.<a href="godoc.176.html#Local">Local</a>()
    <span class="comment">// MajorityRc is the majority read concern</span>
    <span id="MajorityRc">MajorityRc</span> = <a href="godoc.176.html">readconcern</a>.<a href="godoc.176.html#Majority">Majority</a>()
)</pre>
			
		
		
			
			
			<h2 id="CreateCommandErrorResponse">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=1630:1685#L53">CreateCommandErrorResponse</a>
				<a class="permalink" href="godoc.174.html#CreateCommandErrorResponse">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateCommandErrorResponse(ce <a href="godoc.174.html#CommandError">CommandError</a>) <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a></pre>
			<p>
CreateCommandErrorResponse creates a response with a command error.
</p>

			
			

		
			
			
			<h2 id="CreateCursorResponse">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=1229:1333#L36">CreateCursorResponse</a>
				<a class="permalink" href="godoc.174.html#CreateCursorResponse">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateCursorResponse(cursorID <a href="godoc.26.html#int64">int64</a>, ns <a href="godoc.26.html#string">string</a>, identifier <a href="godoc.174.html#BatchIdentifier">BatchIdentifier</a>, batch ...<a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a>) <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a></pre>
			<p>
CreateCursorResponse creates a response for a cursor command.
</p>

			
			

		
			
			
			<h2 id="CreateSuccessResponse">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=2897:2947#L105">CreateSuccessResponse</a>
				<a class="permalink" href="godoc.174.html#CreateSuccessResponse">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateSuccessResponse(elems ...<a href="godoc.154.html">bson</a>.<a href="godoc.154.html#E">E</a>) <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a></pre>
			<p>
CreateSuccessResponse creates a response for a successful operation with the given elements.
</p>

			
			

		
			
			
			<h2 id="CreateWriteConcernErrorResponse">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=2466:2532#L88">CreateWriteConcernErrorResponse</a>
				<a class="permalink" href="godoc.174.html#CreateWriteConcernErrorResponse">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateWriteConcernErrorResponse(wce <a href="godoc.174.html#WriteConcernError">WriteConcernError</a>) <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a></pre>
			<p>
CreateWriteConcernErrorResponse creates a response with a write concern error.
</p>

			
			

		
			
			
			<h2 id="CreateWriteErrorsResponse">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=2078:2143#L71">CreateWriteErrorsResponse</a>
				<a class="permalink" href="godoc.174.html#CreateWriteErrorsResponse">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateWriteErrorsResponse(writeErrorrs ...<a href="godoc.174.html#WriteError">WriteError</a>) <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a></pre>
			<p>
CreateWriteErrorsResponse creates a response with one or more write errors.
</p>

			
			

		
			
			
			<h2 id="Setup">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/setup.go?s=1746:1764#L44">Setup</a>
				<a class="permalink" href="godoc.174.html#Setup">&#xb6;</a>
				
				
			</h2>
			<pre>func Setup() <a href="godoc.26.html#error">error</a></pre>
			<p>
Setup initializes the current testing context.
This function must only be called one time and must be called before any tests run.
</p>

			
			

		
			
			
			<h2 id="Teardown">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/setup.go?s=4218:4239#L116">Teardown</a>
				<a class="permalink" href="godoc.174.html#Teardown">&#xb6;</a>
				
				
			</h2>
			<pre>func Teardown() <a href="godoc.26.html#error">error</a></pre>
			<p>
Teardown cleans up resources initialized by Setup.
This function must be called once after all tests have finished running.
</p>

			
			

		
		
			
			
			<h2 id="BatchIdentifier">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=418:445#L4">BatchIdentifier</a>
				<a class="permalink" href="godoc.174.html#BatchIdentifier">&#xb6;</a>
				
				
			</h2>
			<p>
BatchIdentifier specifies the keyword to identify the batch in a cursor response.
</p>

			<pre>type BatchIdentifier <a href="godoc.26.html#string">string</a></pre>

			
				<p>
These constants specify valid values for BatchIdentifier.
</p>

				<pre>const (
    <span id="FirstBatch">FirstBatch</span> <a href="godoc.174.html#BatchIdentifier">BatchIdentifier</a> = &#34;firstBatch&#34;
    <span id="NextBatch">NextBatch</span>  <a href="godoc.174.html#BatchIdentifier">BatchIdentifier</a> = &#34;nextBatch&#34;
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="ClientType">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=725:744#L15">ClientType</a>
				<a class="permalink" href="godoc.174.html#ClientType">&#xb6;</a>
				
				
			</h2>
			<p>
ClientType specifies the type of Client that should be created for a test.
</p>

			<pre>type ClientType <a href="godoc.26.html#int">int</a></pre>

			
				<p>
These constants specify valid values for ClientType
</p>

				<pre>const (
    <span class="comment">// Default specifies a client to the connection string in the MONGODB_URI env variable with command monitoring</span>
    <span class="comment">// enabled.</span>
    <span id="Default">Default</span> <a href="godoc.174.html#ClientType">ClientType</a> = <a href="godoc.26.html#iota">iota</a>
    <span class="comment">// Pinned specifies a client that is pinned to a single mongos in a sharded cluster.</span>
    <span id="Pinned">Pinned</span>
    <span class="comment">// Mock specifies a client that communicates with a mock deployment.</span>
    <span id="Mock">Mock</span>
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="Collection">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=10460:10702#L321">Collection</a>
				<a class="permalink" href="godoc.174.html#Collection">&#xb6;</a>
				
				
			</h2>
			<p>
Collection is used to configure a new collection created during a test.
</p>

			<pre>type Collection struct {
<span id="Collection.Name"></span>    Name       <a href="godoc.26.html#string">string</a>
<span id="Collection.DB"></span>    DB         <a href="godoc.26.html#string">string</a>        <span class="comment">// defaults to mt.DB.Name() if not specified</span>
<span id="Collection.Client"></span>    Client     *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Client">Client</a> <span class="comment">// defaults to mt.Client if not specified</span>
<span id="Collection.Opts"></span>    Opts       *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#CollectionOptions">CollectionOptions</a>
<span id="Collection.CreateOpts"></span>    CreateOpts <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="CommandError">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=676:769#L13">CommandError</a>
				<a class="permalink" href="godoc.174.html#CommandError">&#xb6;</a>
				
				
			</h2>
			<p>
CommandError is a representation of a command error from the server.
</p>

			<pre>type CommandError struct {
<span id="CommandError.Code"></span>    Code    <a href="godoc.26.html#int32">int32</a>
<span id="CommandError.Message"></span>    Message <a href="godoc.26.html#string">string</a>
<span id="CommandError.Name"></span>    Name    <a href="godoc.26.html#string">string</a>
<span id="CommandError.Labels"></span>    Labels  []<a href="godoc.26.html#string">string</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="FailPoint">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=1359:1577#L35">FailPoint</a>
				<a class="permalink" href="godoc.174.html#FailPoint">&#xb6;</a>
				
				
			</h2>
			<p>
FailPoint is a representation of a server fail point.
See <a href="https://github.com/mongodb/specifications/tree/master/source/transactions/tests#server-fail-point">https://github.com/mongodb/specifications/tree/master/source/transactions/tests#server-fail-point</a>
for more information regarding fail points.
</p>

			<pre>type FailPoint struct {
<span id="FailPoint.ConfigureFailPoint"></span>    ConfigureFailPoint <a href="godoc.26.html#string">string</a> `bson:&#34;configureFailPoint&#34;`
<span id="FailPoint.Mode"></span>    <span class="comment">// Mode should be a string, FailPointMode, or map[string]interface{}</span>
    Mode interface{}   `bson:&#34;mode&#34;`
<span id="FailPoint.Data"></span>    Data <a href="godoc.174.html#FailPointData">FailPointData</a> `bson:&#34;data&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="FailPointData">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=1797:2308#L49">FailPointData</a>
				<a class="permalink" href="godoc.174.html#FailPointData">&#xb6;</a>
				
				
			</h2>
			<p>
FailPointData is a representation of the FailPoint.Data field.
</p>

			<pre>type FailPointData struct {
<span id="FailPointData.FailCommands"></span>    FailCommands                  []<a href="godoc.26.html#string">string</a> `bson:&#34;failCommands,omitempty&#34;`
<span id="FailPointData.CloseConnection"></span>    CloseConnection               <a href="godoc.26.html#bool">bool</a>     `bson:&#34;closeConnection,omitempty&#34;`
<span id="FailPointData.ErrorCode"></span>    ErrorCode                     <a href="godoc.26.html#int32">int32</a>    `bson:&#34;errorCode,omitempty&#34;`
<span id="FailPointData.FailBeforeCommitExceptionCode"></span>    FailBeforeCommitExceptionCode <a href="godoc.26.html#int32">int32</a>    `bson:&#34;failBeforeCommitExceptionCode,omitempty&#34;`
<span id="FailPointData.WriteConcernError"></span>    WriteConcernError             *struct {
        Code   <a href="godoc.26.html#int32">int32</a>  `bson:&#34;code&#34;`
        Name   <a href="godoc.26.html#string">string</a> `bson:&#34;codeName&#34;`
        Errmsg <a href="godoc.26.html#string">string</a> `bson:&#34;errmsg&#34;`
    } `bson:&#34;writeConcernError,omitempty&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="FailPointMode">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=1645:1729#L43">FailPointMode</a>
				<a class="permalink" href="godoc.174.html#FailPointMode">&#xb6;</a>
				
				
			</h2>
			<p>
FailPointMode is a representation of the Failpoint.Mode field.
</p>

			<pre>type FailPointMode struct {
<span id="FailPointMode.Times"></span>    Times <a href="godoc.26.html#int32">int32</a> `bson:&#34;times&#34;`
<span id="FailPointMode.Skip"></span>    Skip  <a href="godoc.26.html#int32">int32</a> `bson:&#34;skip&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Options">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=1528:1574#L39">Options</a>
				<a class="permalink" href="godoc.174.html#Options">&#xb6;</a>
				
				
			</h2>
			<p>
Options is the type used to configure a new T instance.
</p>

			<pre>type Options struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewOptions">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=1625:1651#L44">NewOptions</a>
					<a class="permalink" href="godoc.174.html#NewOptions">&#xb6;</a>
					
					
				</h3>
				<pre>func NewOptions() *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
NewOptions creates an empty Options instance.
</p>

				
				
			

			
				
				<h3 id="Options.Auth">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=5582:5625#L162">Auth</a>
					<a class="permalink" href="godoc.174.html#Options.Auth">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) Auth(auth <a href="godoc.26.html#bool">bool</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
Auth specifies whether or not auth should be enabled for this test to run. By default, a test will run regardless
of whether or not auth is enabled.
</p>

				
				
				
			
				
				<h3 id="Options.ClientOptions">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=2408:2478#L67">ClientOptions</a>
					<a class="permalink" href="godoc.174.html#Options.ClientOptions">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) ClientOptions(opts *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#ClientOptions">ClientOptions</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
ClientOptions sets the options to use when creating a client for a test.
</p>

				
				
				
			
				
				<h3 id="Options.ClientType">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=3847:3900#L111">ClientType</a>
					<a class="permalink" href="godoc.174.html#Options.ClientType">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) ClientType(ct <a href="godoc.174.html#ClientType">ClientType</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
ClientType specifies the type of client that should be created for a test. This option will be propagated to all
sub-tests.
</p>

				
				
				
			
				
				<h3 id="Options.CollectionCreateOptions">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=1922:1986#L51">CollectionCreateOptions</a>
					<a class="permalink" href="godoc.174.html#Options.CollectionCreateOptions">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) CollectionCreateOptions(opts <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
CollectionCreateOptions sets the options to pass to the create command when creating a collection for a test.
For example, if opts = {&#34;capped&#34;: &#34;true&#34;}, the create command sent to the server will be
{create: &lt;collectionName&gt;, foo: bar}.
</p>

				
				
				
			
				
				<h3 id="Options.CollectionName">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=3356:3415#L94">CollectionName</a>
					<a class="permalink" href="godoc.174.html#Options.CollectionName">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) CollectionName(collName <a href="godoc.26.html#string">string</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
CollectionName specifies the name for the collection for the test.
</p>

				
				
				
			
				
				<h3 id="Options.CollectionOptions">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=2165:2243#L59">CollectionOptions</a>
					<a class="permalink" href="godoc.174.html#Options.CollectionOptions">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) CollectionOptions(opts *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#CollectionOptions">CollectionOptions</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
CollectionOptions sets the options to use when creating a collection for a test.
</p>

				
				
				
			
				
				<h3 id="Options.CreateClient">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=2743:2796#L76">CreateClient</a>
					<a class="permalink" href="godoc.174.html#Options.CreateClient">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) CreateClient(create <a href="godoc.26.html#bool">bool</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
CreateClient specifies whether or not a client and collection should be created for a test. This should be set to
false when running a test that only runs other tests.
</p>

				
				
				
			
				
				<h3 id="Options.DatabaseName">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=3573:3628#L102">DatabaseName</a>
					<a class="permalink" href="godoc.174.html#Options.DatabaseName">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) DatabaseName(dbName <a href="godoc.26.html#string">string</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
DatabaseName specifies the name of the database for the test.
</p>

				
				
				
			
				
				<h3 id="Options.Enterprise">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=5829:5877#L170">Enterprise</a>
					<a class="permalink" href="godoc.174.html#Options.Enterprise">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) Enterprise(ent <a href="godoc.26.html#bool">bool</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
Enterprise specifies whether or not this test should only be run on enterprise server variants. Defaults to false.
</p>

				
				
				
			
				
				<h3 id="Options.MaxServerVersion">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=5038:5098#L145">MaxServerVersion</a>
					<a class="permalink" href="godoc.174.html#Options.MaxServerVersion">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) MaxServerVersion(version <a href="godoc.26.html#string">string</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
MaxServerVersion specifies the maximum server version for the test.
</p>

				
				
				
			
				
				<h3 id="Options.MinServerVersion">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=4807:4867#L137">MinServerVersion</a>
					<a class="permalink" href="godoc.174.html#Options.MinServerVersion">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) MinServerVersion(version <a href="godoc.26.html#string">string</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
MinServerVersion specifies the minimum server version for the test.
</p>

				
				
				
			
				
				<h3 id="Options.MockResponses">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=4220:4282#L120">MockResponses</a>
					<a class="permalink" href="godoc.174.html#Options.MockResponses">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) MockResponses(responses ...<a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
MockResponses specifies the responses returned by a mock deployment. This should only be used if the current test
is being run with MockDeployment(true). Responses can also be added after a sub-test has already been created.
</p>

				
				
				
			
				
				<h3 id="Options.RunOn">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=4573:4628#L129">RunOn</a>
					<a class="permalink" href="godoc.174.html#Options.RunOn">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) RunOn(blocks ...<a href="godoc.174.html#RunOnBlock">RunOnBlock</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
RunOn specifies run-on blocks used to determine if a test should run. If a test&#39;s environment meets at least one of the
given constraints, it will be run. Otherwise, it will be skipped.
</p>

				
				
				
			
				
				<h3 id="Options.ShareClient">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=3141:3192#L86">ShareClient</a>
					<a class="permalink" href="godoc.174.html#Options.ShareClient">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) ShareClient(share <a href="godoc.26.html#bool">bool</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
ShareClient specifies whether or not a test should pass its client down to sub-tests. This should be set when calling
New() if the inheriting behavior is desired. This option must not be used if the test accesses command monitoring
events.
</p>

				
				
				
			
				
				<h3 id="Options.Topologies">func (*Options) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=5269:5330#L153">Topologies</a>
					<a class="permalink" href="godoc.174.html#Options.Topologies">&#xb6;</a>
					
					
				</h3>
				<pre>func (op *<a href="godoc.174.html#Options">Options</a>) Topologies(topos ...<a href="godoc.174.html#TopologyKind">TopologyKind</a>) *<a href="godoc.174.html#Options">Options</a></pre>
				<p>
Topologies specifies a list of topologies that the test can run on.
</p>

				
				
				
			
		
			
			
			<h2 id="RunOnBlock">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=1183:1378#L29">RunOnBlock</a>
				<a class="permalink" href="godoc.174.html#RunOnBlock">&#xb6;</a>
				
				
			</h2>
			<p>
RunOnBlock describes a constraint for a test.
</p>

			<pre>type RunOnBlock struct {
<span id="RunOnBlock.MinServerVersion"></span>    MinServerVersion <a href="godoc.26.html#string">string</a>         `bson:&#34;minServerVersion&#34;`
<span id="RunOnBlock.MaxServerVersion"></span>    MaxServerVersion <a href="godoc.26.html#string">string</a>         `bson:&#34;maxServerVersion&#34;`
<span id="RunOnBlock.Topology"></span>    Topology         []<a href="godoc.174.html#TopologyKind">TopologyKind</a> `bson:&#34;topology&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="T">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=2346:3373#L62">T</a>
				<a class="permalink" href="godoc.174.html#T">&#xb6;</a>
				
				
			</h2>
			<p>
T is a wrapper around testing.T.
</p>

			<pre>type T struct {
    *<a href="godoc.60.html">testing</a>.<a href="godoc.60.html#T">T</a>

<span id="T.Client"></span>    Client *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Client">Client</a>
<span id="T.DB"></span>    DB     *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Database">Database</a>
<span id="T.Coll"></span>    Coll   *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Collection">Collection</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="New">func <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=4199:4248#L132">New</a>
					<a class="permalink" href="godoc.174.html#New">&#xb6;</a>
					
					
				</h3>
				<pre>func New(wrapped *<a href="godoc.60.html">testing</a>.<a href="godoc.60.html#T">T</a>, opts ...*<a href="godoc.174.html#Options">Options</a>) *<a href="godoc.174.html#T">T</a></pre>
				<p>
New creates a new T instance with the given options. If the current environment does not satisfy constraints
specified in the options, the test will be skipped automatically.
</p>

				
				
			

			
				
				<h3 id="T.AddMockResponses">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=7544:7593#L227">AddMockResponses</a>
					<a class="permalink" href="godoc.174.html#T.AddMockResponses">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) AddMockResponses(responses ...<a href="godoc.154.html">bson</a>.<a href="godoc.154.html#D">D</a>)</pre>
				<p>
AddMockResponses adds responses to be returned by the mock deployment. This should only be used if T is being run
against a mock deployment.
</p>

				
				
				
			
				
				<h3 id="T.AuthEnabled">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=14217:14247#L435">AuthEnabled</a>
					<a class="permalink" href="godoc.174.html#T.AuthEnabled">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) AuthEnabled() <a href="godoc.26.html#bool">bool</a></pre>
				<p>
AuthEnabled returns whether or not this test is running in an environment with auth.
</p>

				
				
				
			
				
				<h3 id="T.ClearCollections">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=12356:12386#L376">ClearCollections</a>
					<a class="permalink" href="godoc.174.html#T.ClearCollections">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ClearCollections()</pre>
				<p>
ClearCollections drops all collections previously created by this test.
</p>

				
				
				
			
				
				<h3 id="T.ClearEvents">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=9395:9420#L288">ClearEvents</a>
					<a class="permalink" href="godoc.174.html#T.ClearEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ClearEvents()</pre>
				<p>
ClearEvents clears the existing command monitoring events.
</p>

				
				
				
			
				
				<h3 id="T.ClearFailPoints">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=13780:13809#L419">ClearFailPoints</a>
					<a class="permalink" href="godoc.174.html#T.ClearFailPoints">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ClearFailPoints()</pre>
				<p>
ClearFailPoints disables all previously set failpoints for this test.
</p>

				
				
				
			
				
				<h3 id="T.ClearMockResponses">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=7711:7743#L232">ClearMockResponses</a>
					<a class="permalink" href="godoc.174.html#T.ClearMockResponses">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ClearMockResponses()</pre>
				<p>
ClearMockResponses clears all responses in the mock deployment.
</p>

				
				
				
			
				
				<h3 id="T.CloneCollection">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=14868:14928#L455">CloneCollection</a>
					<a class="permalink" href="godoc.174.html#T.CloneCollection">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) CloneCollection(opts *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#CollectionOptions">CollectionOptions</a>)</pre>
				<p>
CloneCollection modifies the default collection for this test to match the given options.
</p>

				
				
				
			
				
				<h3 id="T.CloneDatabase">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=14671:14727#L450">CloneDatabase</a>
					<a class="permalink" href="godoc.174.html#T.CloneDatabase">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) CloneDatabase(opts *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#DatabaseOptions">DatabaseOptions</a>)</pre>
				<p>
CloneDatabase modifies the default database for this test to match the given options.
</p>

				
				
				
			
				
				<h3 id="T.Close">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=4598:4617#L145">Close</a>
					<a class="permalink" href="godoc.174.html#T.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) Close()</pre>
				<p>
Close cleans up any resources associated with a T. There should be one Close corresponding to every New.
</p>

				
				
				
			
				
				<h3 id="T.ConnString">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=14505:14536#L445">ConnString</a>
					<a class="permalink" href="godoc.174.html#T.ConnString">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ConnString() <a href="godoc.26.html#string">string</a></pre>
				<p>
ConnString returns the connection string used to create the client for this test.
</p>

				
				
				
			
				
				<h3 id="T.CreateCollection">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=11622:11706#L354">CreateCollection</a>
					<a class="permalink" href="godoc.174.html#T.CreateCollection">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) CreateCollection(coll <a href="godoc.174.html#Collection">Collection</a>, createOnServer <a href="godoc.26.html#bool">bool</a>) *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Collection">Collection</a></pre>
				<p>
CreateCollection creates a new collection with the given configuration. The collection will be dropped after the test
finishes running. If createOnServer is true, the function ensures that the collection has been created server-side
by running the create command. The create command will appear in command monitoring channels.
</p>

				
				
				
			
				
				<h3 id="T.GetAllFailedEvents">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=9250:9310#L283">GetAllFailedEvents</a>
					<a class="permalink" href="godoc.174.html#T.GetAllFailedEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetAllFailedEvents() []*<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandFailedEvent">CommandFailedEvent</a></pre>
				<p>
GetAllFailedEvents returns a slice of all CommandFailedEvent instances for this test. This can be called multiple
times.
</p>

				
				
				
			
				
				<h3 id="T.GetAllStartedEvents">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=8812:8874#L271">GetAllStartedEvents</a>
					<a class="permalink" href="godoc.174.html#T.GetAllStartedEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetAllStartedEvents() []*<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandStartedEvent">CommandStartedEvent</a></pre>
				<p>
GetAllStartedEvents returns a slice of all CommandStartedEvent instances for this test. This can be called multiple
times.
</p>

				
				
				
			
				
				<h3 id="T.GetAllSucceededEvents">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=9031:9097#L277">GetAllSucceededEvents</a>
					<a class="permalink" href="godoc.174.html#T.GetAllSucceededEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetAllSucceededEvents() []*<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandSucceededEvent">CommandSucceededEvent</a></pre>
				<p>
GetAllSucceededEvents returns a slice of all CommandSucceededEvent instances for this test. This can be called multiple
times.
</p>

				
				
				
			
				
				<h3 id="T.GetFailedEvent">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=8529:8583#L260">GetFailedEvent</a>
					<a class="permalink" href="godoc.174.html#T.GetFailedEvent">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetFailedEvent() *<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandFailedEvent">CommandFailedEvent</a></pre>
				<p>
GetFailedEvent returns the most recent CommandFailedEvent, or nil if one is not present.
This can only be called once per event.
</p>

				
				
				
			
				
				<h3 id="T.GetStartedEvent">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=7921:7977#L238">GetStartedEvent</a>
					<a class="permalink" href="godoc.174.html#T.GetStartedEvent">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetStartedEvent() *<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandStartedEvent">CommandStartedEvent</a></pre>
				<p>
GetStartedEvent returns the most recent CommandStartedEvent, or nil if one is not present.
This can only be called once per event.
</p>

				
				
				
			
				
				<h3 id="T.GetSucceededEvent">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=8222:8282#L249">GetSucceededEvent</a>
					<a class="permalink" href="godoc.174.html#T.GetSucceededEvent">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) GetSucceededEvent() *<a href="godoc.167.html">event</a>.<a href="godoc.167.html#CommandSucceededEvent">CommandSucceededEvent</a></pre>
				<p>
GetSucceededEvent returns the most recent CommandSucceededEvent, or nil if one is not present.
This can only be called once per event.
</p>

				
				
				
			
				
				<h3 id="T.GlobalClient">func (T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=15267:15304#L463">GlobalClient</a>
					<a class="permalink" href="godoc.174.html#T.GlobalClient">&#xb6;</a>
					
					
				</h3>
				<pre>func (<a href="godoc.174.html#T">T</a>) GlobalClient() *<a href="godoc.171.html">mongo</a>.<a href="godoc.171.html#Client">Client</a></pre>
				<p>
GlobalClient returns a client configured with read concern majority, write concern majority, and read preference
primary. The returned client is not tied to the receiver and is valid outside the lifetime of the receiver.
</p>

				
				
				
			
				
				<h3 id="T.ResetClient">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=9905:9957#L298">ResetClient</a>
					<a class="permalink" href="godoc.174.html#T.ResetClient">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) ResetClient(opts *<a href="godoc.175.html">options</a>.<a href="godoc.175.html#ClientOptions">ClientOptions</a>)</pre>
				<p>
ResetClient resets the existing client with the given options. If opts is nil, the existing options will be used.
If t.Coll is not-nil, it will be reset to use the new client. Should only be called if the existing client is
not nil. This will Disconnect the existing client but will not drop existing collections. To do so, ClearCollections
must be called before calling ResetClient.
</p>

				
				
				
			
				
				<h3 id="T.Run">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=5220:5267#L164">Run</a>
					<a class="permalink" href="godoc.174.html#T.Run">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) Run(name <a href="godoc.26.html#string">string</a>, callback func(*<a href="godoc.174.html#T">T</a>))</pre>
				<p>
Run creates a new T instance for a sub-test and runs the given callback. It also creates a new collection using the
given name which is available to the callback through the T.Coll variable and is dropped after the callback
returns.
</p>

				
				
				
			
				
				<h3 id="T.RunOpts">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=5765:5831#L172">RunOpts</a>
					<a class="permalink" href="godoc.174.html#T.RunOpts">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) RunOpts(name <a href="godoc.26.html#string">string</a>, opts *<a href="godoc.174.html#Options">Options</a>, callback func(*<a href="godoc.174.html#T">T</a>))</pre>
				<p>
RunOpts creates a new T instance for a sub-test with the given options. If the current environment does not satisfy
constraints specified in the options, the new sub-test will be skipped automatically. If the test is not skipped,
the callback will be run with the new T instance. RunOpts creates a new collection with the given name which is
available to the callback through the T.Coll variable and is dropped after the callback returns.
</p>

				
				
				
			
				
				<h3 id="T.SetFailPoint">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=12718:12756#L385">SetFailPoint</a>
					<a class="permalink" href="godoc.174.html#T.SetFailPoint">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) SetFailPoint(fp <a href="godoc.174.html#FailPoint">FailPoint</a>)</pre>
				<p>
SetFailPoint sets a fail point for the client associated with T. Commands to create the failpoint will appear
in command monitoring channels. The fail point will automatically be disabled after this test has run.
</p>

				
				
				
			
				
				<h3 id="T.TopologyKind">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=14346:14385#L440">TopologyKind</a>
					<a class="permalink" href="godoc.174.html#T.TopologyKind">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) TopologyKind() <a href="godoc.174.html#TopologyKind">TopologyKind</a></pre>
				<p>
TopologyKind returns the topology kind of the environment
</p>

				
				
				
			
				
				<h3 id="T.TrackFailPoint">func (*T) <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/mongotest.go?s=13607:13648#L414">TrackFailPoint</a>
					<a class="permalink" href="godoc.174.html#T.TrackFailPoint">&#xb6;</a>
					
					
				</h3>
				<pre>func (t *<a href="godoc.174.html#T">T</a>) TrackFailPoint(fpName <a href="godoc.26.html#string">string</a>)</pre>
				<p>
TrackFailPoint adds the given fail point to the list of fail points to be disabled when the current test finishes.
This function does not create a fail point on the server.
</p>

				
				
				
			
		
			
			
			<h2 id="TopologyKind">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/options.go?s=440:464#L5">TopologyKind</a>
				<a class="permalink" href="godoc.174.html#TopologyKind">&#xb6;</a>
				
				
			</h2>
			<p>
TopologyKind describes the topology that a test is run on.
</p>

			<pre>type TopologyKind <a href="godoc.26.html#string">string</a></pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="WriteConcernError">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=992:1162#L28">WriteConcernError</a>
				<a class="permalink" href="godoc.174.html#WriteConcernError">&#xb6;</a>
				
				
			</h2>
			<p>
WriteConcernError is a representation of a write concern error from the server.
</p>

			<pre>type WriteConcernError struct {
<span id="WriteConcernError.Name"></span>    Name    <a href="godoc.26.html#string">string</a>   `bson:&#34;codeName&#34;`
<span id="WriteConcernError.Code"></span>    Code    <a href="godoc.26.html#int">int</a>      `bson:&#34;code&#34;`
<span id="WriteConcernError.Message"></span>    Message <a href="godoc.26.html#string">string</a>   `bson:&#34;errmsg&#34;`
<span id="WriteConcernError.Details"></span>    Details <a href="godoc.154.html">bson</a>.<a href="godoc.154.html#Raw">Raw</a> `bson:&#34;errInfo&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="WriteError">type <a href="http://localhost:6161/src/go.mongodb.org/mongo-driver/mongo/integration/mtest/deployment_helpers.go?s=839:907#L21">WriteError</a>
				<a class="permalink" href="godoc.174.html#WriteError">&#xb6;</a>
				
				
			</h2>
			<p>
WriteError is a representation of a write error from the server.
</p>

			<pre>type WriteError struct {
<span id="WriteError.Index"></span>    Index   <a href="godoc.26.html#int">int</a>
<span id="WriteError.Code"></span>    Code    <a href="godoc.26.html#int">int</a>
<span id="WriteError.Message"></span>    Message <a href="godoc.26.html#string">string</a>
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.13.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6161/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6161/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
